{"version":3,"sources":["webpack:///./src/views/Categories.vue?24c3","webpack:///./src/components/CategoriesDialog.vue?7d24","webpack:///src/components/CategoriesDialog.vue","webpack:///./src/components/CategoriesDialog.vue?7b7c","webpack:///./src/components/CategoriesDialog.vue","webpack:///src/views/Categories.vue","webpack:///./src/views/Categories.vue?4c82","webpack:///./src/views/Categories.vue","webpack:///./src/views/Categories.vue?be39","webpack:///./src/components/CategoriesDialog.vue?ae79"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","path","_v","on","add","staticStyle","newList","children","hasChildren","scopedSlots","_u","key","fn","scope","_s","row","index","cat_deleted","_e","cat_level","$event","edit","del","cat_id","query","pagesize","total","currentChange","sizeChange","dialogVisible","ruleForm","staticRenderFns","$emit","ref","rules","model","value","callback","$$v","$set","expression","categoryAllList","props","slot","sure","data","label","expandTrigger","checkStrictly","cat_name","required","message","trigger","computed","methods","$refs","form","validate","valida","console","log","id","cat_pid","component","components","pagenum","created","getGoodsCategory","categoryList","forEach","el","delCategoriesGoodItem","then"],"mappings":"mJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,gBAAgB,CAACG,MAAM,CAAC,UAAY,MAAM,CAACH,EAAG,qBAAqB,CAACG,MAAM,CAAC,GAAK,CAAEC,KAAM,WAAY,CAACR,EAAIS,GAAG,QAAQL,EAAG,qBAAqB,CAACJ,EAAIS,GAAG,UAAUL,EAAG,qBAAqB,CAACJ,EAAIS,GAAG,WAAW,GAAGL,EAAG,UAAU,CAACA,EAAG,MAAM,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWG,GAAG,CAAC,MAAQV,EAAIW,MAAM,CAACX,EAAIS,GAAG,WAAW,GAAGL,EAAG,WAAW,CAACQ,YAAY,CAAC,MAAQ,QAAQL,MAAM,CAAC,KAAOP,EAAIa,QAAQ,OAAS,GAAG,UAAU,SAAS,aAAa,CAAEC,SAAU,WAAYC,YAAa,iBAAkB,CAACX,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,QAAQ,MAAQ,KAAK,MAAQ,KAAKS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAChB,EAAG,OAAO,CAACJ,EAAIS,GAAGT,EAAIqB,GAAGD,EAAME,IAAIC,iBAAiBnB,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,UAAUH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,cAAc,MAAQ,QAAQS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAGA,EAAME,IAAIE,YAAwDxB,EAAIyB,KAA/CrB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,aAAuBa,EAAME,IAAe,YAAElB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWP,EAAIyB,YAAYrB,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,YAAY,MAAQ,MAAMS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAA0B,IAAxBA,EAAME,IAAII,UAAiBtB,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,SAAS,CAACP,EAAIS,GAAG,QAAiC,IAAxBW,EAAME,IAAII,UAAiBtB,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,SAAS,CAACP,EAAIS,GAAG,QAAQL,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,SAAS,CAACP,EAAIS,GAAG,eAAeL,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,MAAMS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAChB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,eAAe,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAASiB,GAAQ,OAAO3B,EAAI4B,KAAKR,EAAME,SAASlB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAASiB,GAAQ,OAAO3B,EAAI6B,IAAIT,EAAME,IAAIQ,oBAAoB,GAAG1B,EAAG,gBAAgB,CAACG,MAAM,CAAC,WAAa,GAAG,aAAa,CAAC,EAAG,GAAI,GAAI,IAAI,YAAYP,EAAI+B,MAAMC,SAAS,OAAS,0CAA0C,MAAQhC,EAAIiC,OAAOvB,GAAG,CAAC,iBAAiBV,EAAIkC,cAAc,cAAclC,EAAImC,eAAe,GAAG/B,EAAG,mBAAmB,CAACG,MAAM,CAAC,cAAgBP,EAAIoC,cAAc,SAAWpC,EAAIqC,UAAU3B,GAAG,CAAC,uBAAuB,SAASiB,GAAQ3B,EAAIoC,cAAcT,GAAQ,wBAAwB,SAASA,GAAQ3B,EAAIoC,cAAcT,OAAY,IACl2EW,EAAkB,G,YCDlB,G,oBAAS,WAAa,IAAItC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,OAAO,QAAUP,EAAIoC,cAAc,MAAQ,OAAO1B,GAAG,CAAC,MAAQ,SAASiB,GAAQ,OAAO3B,EAAIuC,MAAM,wBAAwB,MAAU,CAACnC,EAAG,UAAU,CAACoC,IAAI,OAAOjC,MAAM,CAAC,MAAQP,EAAIqC,SAAS,cAAc,QAAQ,MAAQrC,EAAIyC,QAAQ,CAACrC,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,CAACH,EAAG,WAAW,CAACsC,MAAM,CAACC,MAAO3C,EAAIqC,SAAiB,SAAEO,SAAS,SAAUC,GAAM7C,EAAI8C,KAAK9C,EAAIqC,SAAU,WAAYQ,IAAME,WAAW,wBAAwB,GAAK/C,EAAIqC,SAASP,OAAwO9B,EAAIyB,KAApOrB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,SAAS,CAACH,EAAG,cAAc,CAACG,MAAM,CAAC,QAAUP,EAAIgD,gBAAgB,MAAQhD,EAAIiD,MAAM,UAAY,IAAIP,MAAM,CAACC,MAAO3C,EAAS,MAAE4C,SAAS,SAAUC,GAAM7C,EAAI2C,MAAME,GAAKE,WAAW,YAAY,IAAa,GAAG3C,EAAG,OAAO,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAU2C,KAAK,UAAU,CAAC9C,EAAG,YAAY,CAACM,GAAG,CAAC,MAAQ,SAASiB,GAAQ,OAAO3B,EAAIuC,MAAM,wBAAwB,MAAU,CAACvC,EAAIS,GAAG,SAASL,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWG,GAAG,CAAC,MAAQV,EAAImD,OAAO,CAACnD,EAAIS,GAAG,UAAU,IAAI,IAAI,KAC5nC,EAAkB,G,YCgCtB,GACEwC,MAAO,CAAC,gBAAiB,YACzBG,KAFF,WAGI,MAAO,CACLT,MAAO,GACPM,MAAO,CACLI,MAAO,WACPV,MAAO,SACPW,cAAe,QACfC,eAAe,GAEjBd,MAAO,CACLe,SAAU,CACRC,UAAU,EACVC,QAAS,UACTC,QAAS,WAMjBC,SAAU,OAAZ,OAAY,CAAZ,GACA,gBACI,gBAAJ,YAAM,OAAN,oCAGEC,QAAS,OAAX,OAAW,CAAX,CACIV,KADJ,WACA,WACMlD,KAAK6D,MAAMC,KAAKC,UAAS,SAA/B,GACQ,GAAIC,EAAQ,CACV,GAAI,EAAd,gBACYC,QAAQC,IAAI,EAAxB,iBACY,EAAZ,wBACcC,GAAI,EAAlB,gBACcZ,SAAU,EAAxB,oBACA,MACA,YACc,EAAd,4BAEA,YACc,EAAd,yBAGA,CACY,IAAZ,IAEca,EADd,IAAgB,EAAhB,aACwB,EAEA,EAAxB,wBAEY,EAAZ,uBACcb,SAAU,EAAxB,kBACca,QAASA,EACT3C,UAAW,EAAzB,eACA,MACA,YACc,EAAd,4BAEA,YACc,EAAd,qBAIU,EAAV,uCAIA,qECpG0V,I,wBCQtV4C,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QC+Df,GACEC,WAAY,CAAd,oBACEnB,KAFF,WAGI,MAAO,CACLrB,MAAO,CACLyC,QAAS,EACTxC,SAAU,GAEZI,eAAe,EACfC,SAAU,KAGdoC,QAZF,WAaIxE,KAAKyE,iBAAiBzE,KAAK8B,QAE7B6B,SAAU,OAAZ,OAAY,CAAZ,CACI/C,QADJ,WAKM,OAHAZ,KAAK0E,aAAaC,SAAQ,SAAhC,KACQC,EAAGtD,MAAQA,EAAQ,KAEdtB,KAAK0E,eAElB,gBACI,aAAJ,YAAM,OAAN,8BACI,MAAJ,YAAM,OAAN,0BAIEd,QAAS,OAAX,OAAW,CAAX,CAEI3B,cAFJ,SAEA,GACMjC,KAAK8B,MAAMyC,QAAU7B,EACrB1C,KAAKyE,iBAAiBzE,KAAK8B,QAG7BI,WAPJ,SAOA,GACMlC,KAAK8B,MAAMC,SAAWW,EACtB1C,KAAKyE,iBAAiBzE,KAAK8B,QAE7BpB,IAXJ,WAYMV,KAAKmC,eAAgB,EACrBnC,KAAKoC,SAAW,GAChBpC,KAAKyE,iBAAiB,CAA5B,UAGI9C,KAjBJ,SAiBA,GACM3B,KAAKmC,eAAgB,EACrBnC,KAAKoC,SAAW,OAAtB,OAAsB,CAAtB,OAGIR,IAtBJ,SAsBA,cACM5B,KAAK6E,sBAAsBV,GAAIW,MACrC,YACQ,EAAR,4BAEA,YACQ,EAAR,uBAKA,+DC/IoV,ICQhV,G,UAAY,eACd,EACAhF,EACAuC,GACA,EACA,KACA,KACA,OAIa,e,oECnBf,W,kCCAA","file":"js/chunk-6879e1c4.a5d17990.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"categories\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品分类\")])],1),_c('el-card',[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添加分类\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.newList,\"border\":\"\",\"row-key\":\"cat_id\",\"tree-props\":{ children: 'children', hasChildren: 'cat_deleted' }}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"80\",\"label\":\"#\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.index))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"cat_name\",\"label\":\"分类名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"cat_deleted\",\"label\":\"是否有效\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.cat_deleted)?_c('el-result',{attrs:{\"icon\":\"success\"}}):_vm._e(),(scope.row.cat_deleted)?_c('el-result',{attrs:{\"icon\":\"error\"}}):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"cat_level\",\"label\":\"排序\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.cat_level === 0)?_c('el-tag',{attrs:{\"size\":\"mini\"}},[_vm._v(\"一级\")]):(scope.row.cat_level === 1)?_c('el-tag',{attrs:{\"type\":\"success\",\"size\":\"mini\"}},[_vm._v(\"二级\")]):_c('el-tag',{attrs:{\"type\":\"warning\",\"size\":\"mini\"}},[_vm._v(\"三级\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.edit(scope.row)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.del(scope.row.cat_id)}}})]}}])})],1),_c('el-pagination',{attrs:{\"background\":\"\",\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.query.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.currentChange,\"size-change\":_vm.sizeChange}})],1),_c('CategoriesDialog',{attrs:{\"dialogVisible\":_vm.dialogVisible,\"ruleForm\":_vm.ruleForm},on:{\"update:dialogVisible\":function($event){_vm.dialogVisible=$event},\"update:dialog-visible\":function($event){_vm.dialogVisible=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cate-dialog\"},[_c('el-dialog',{attrs:{\"title\":\"添加分类\",\"visible\":_vm.dialogVisible,\"width\":\"50%\"},on:{\"close\":function($event){return _vm.$emit('update:dialogVisible', false)}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.ruleForm,\"label-width\":\"100px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"cat_name\"}},[_c('el-input',{model:{value:(_vm.ruleForm.cat_name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"cat_name\", $$v)},expression:\"ruleForm.cat_name\"}})],1),(!_vm.ruleForm.cat_id)?_c('el-form-item',{attrs:{\"label\":\"父级分类\"}},[_c('el-cascader',{attrs:{\"options\":_vm.categoryAllList,\"props\":_vm.props,\"clearable\":\"\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1):_vm._e()],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.$emit('update:dialogVisible', false)}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sure}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"cate-dialog\">\r\n    <el-dialog\r\n      title=\"添加分类\"\r\n      :visible=\"dialogVisible\"\r\n      width=\"50%\"\r\n      @close=\"$emit('update:dialogVisible', false)\"\r\n    >\r\n      <el-form :model=\"ruleForm\" ref=\"form\" label-width=\"100px\" :rules=\"rules\">\r\n        <el-form-item label=\"分类名称\" prop=\"cat_name\">\r\n          <el-input v-model=\"ruleForm.cat_name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"父级分类\" v-if=\"!ruleForm.cat_id\">\r\n          <el-cascader\r\n            v-model=\"value\"\r\n            :options=\"categoryAllList\"\r\n            :props=\"props\"\r\n            clearable\r\n          ></el-cascader>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"$emit('update:dialogVisible', false)\"\r\n          >取 消</el-button\r\n        >\r\n        <el-button type=\"primary\" @click=\"sure\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\nexport default {\r\n  props: [\"dialogVisible\", \"ruleForm\"],\r\n  data() {\r\n    return {\r\n      value: [],\r\n      props: {\r\n        label: \"cat_name\",\r\n        value: \"cat_id\",\r\n        expandTrigger: \"hover\",\r\n        checkStrictly: true,\r\n      },\r\n      rules: {\r\n        cat_name: {\r\n          required: true,\r\n          message: \"请输入分类名称\",\r\n          trigger: \"blur\",\r\n        },\r\n      },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState({\r\n      categoryAllList: (state) => state.goodsCategory.categoryAllList,\r\n    }),\r\n  },\r\n  methods: {\r\n    sure() {\r\n      this.$refs.form.validate((valida) => {\r\n        if (valida) {\r\n          if (this.ruleForm.cat_id) {\r\n            console.log(this.ruleForm.cat_id);\r\n            this.editCategoriesGoodItem({\r\n              id: this.ruleForm.cat_id,\r\n              cat_name: this.ruleForm.cat_name,\r\n            }).then(\r\n              (res) => {\r\n                this.$message.success(\"修改成功\");\r\n              },\r\n              (error) => {\r\n                this.$message.error(error);\r\n              }\r\n            );\r\n          } else {\r\n            let cat_pid = 0;\r\n            if (this.value.length === 0) {\r\n              cat_pid = 0;\r\n            } else {\r\n              cat_pid = this.value[this.value.length - 1];\r\n            }\r\n            this.addCategoriesGoodItem({\r\n              cat_name: this.ruleForm.cat_name,\r\n              cat_pid: cat_pid,\r\n              cat_level: this.value.length,\r\n            }).then(\r\n              (res) => {\r\n                this.$message.success(\"添加成功\");\r\n              },\r\n              (error) => {\r\n                this.$message.error(error);\r\n              }\r\n            );\r\n          }\r\n          this.$emit(\"update:dialogVisible\", false);\r\n        }\r\n      });\r\n    },\r\n    ...mapActions([\"addCategoriesGoodItem\", \"editCategoriesGoodItem\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.el-cascader-menu {\r\n  height: 200px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoriesDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoriesDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoriesDialog.vue?vue&type=template&id=3c3f9f46&\"\nimport script from \"./CategoriesDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoriesDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CategoriesDialog.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"categories\">\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品分类</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-card>\r\n      <div>\r\n        <el-button type=\"primary\" @click=\"add\">添加分类</el-button>\r\n      </div>\r\n      <el-table\r\n        :data=\"newList\"\r\n        border\r\n        style=\"width: 100%\"\r\n        row-key=\"cat_id\"\r\n        :tree-props=\"{ children: 'children', hasChildren: 'cat_deleted' }\"\r\n      >\r\n        <el-table-column type=\"index\" width=\"80\" label=\"#\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.index }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"cat_name\" label=\"分类名称\"> </el-table-column>\r\n        <el-table-column prop=\"cat_deleted\" label=\"是否有效\">\r\n          <template v-slot=\"scope\">\r\n            <el-result icon=\"success\" v-if=\"!scope.row.cat_deleted\">\r\n            </el-result>\r\n            <el-result icon=\"error\" v-if=\"scope.row.cat_deleted\"> </el-result>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"cat_level\" label=\"排序\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag size=\"mini\" v-if=\"scope.row.cat_level === 0\">一级</el-tag>\r\n            <el-tag\r\n              type=\"success\"\r\n              size=\"mini\"\r\n              v-else-if=\"scope.row.cat_level === 1\"\r\n              >二级</el-tag\r\n            >\r\n            <el-tag type=\"warning\" size=\"mini\" v-else>三级</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template v-slot=\"scope\">\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              @click=\"edit(scope.row)\"\r\n            ></el-button>\r\n            <el-button\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              @click=\"del(scope.row.cat_id)\"\r\n            ></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        background\r\n        :page-sizes=\"[5, 10, 15, 20]\"\r\n        :page-size=\"query.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n        @current-change=\"currentChange\"\r\n        @size-change=\"sizeChange\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n    <!-- 添加编辑对话框 -->\r\n    <CategoriesDialog\r\n      :dialogVisible.sync=\"dialogVisible\"\r\n      :ruleForm=\"ruleForm\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CategoriesDialog from \"@/components/CategoriesDialog.vue\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nexport default {\r\n  components: { CategoriesDialog },\r\n  data() {\r\n    return {\r\n      query: {\r\n        pagenum: 1,\r\n        pagesize: 5,\r\n      },\r\n      dialogVisible: false,\r\n      ruleForm: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.getGoodsCategory(this.query);\r\n  },\r\n  computed: {\r\n    newList() {\r\n      this.categoryList.forEach((el, index) => {\r\n        el.index = index + 1;\r\n      });\r\n      return this.categoryList;\r\n    },\r\n    ...mapState({\r\n      categoryList: (state) => state.goodsCategory.categoryList,\r\n      total: (state) => state.goodsCategory.total,\r\n    }),\r\n  },\r\n\r\n  methods: {\r\n    // 更改当前页\r\n    currentChange(value) {\r\n      this.query.pagenum = value;\r\n      this.getGoodsCategory(this.query);\r\n    },\r\n    // 更改页的展示数量\r\n    sizeChange(value) {\r\n      this.query.pagesize = value;\r\n      this.getGoodsCategory(this.query);\r\n    },\r\n    add() {\r\n      this.dialogVisible = true;\r\n      this.ruleForm = {};\r\n      this.getGoodsCategory({ type: 2 });\r\n    },\r\n    // 编辑\r\n    edit(row) {\r\n      this.dialogVisible = true;\r\n      this.ruleForm = { ...row };\r\n    },\r\n    // 删除\r\n    del(id) {\r\n      this.delCategoriesGoodItem(id).then(\r\n        (res) => {\r\n          this.$message.success(\"删除成功\");\r\n        },\r\n        (error) => {\r\n          this.$message.error(error);\r\n        }\r\n      );\r\n    },\r\n\r\n    ...mapActions([\"getGoodsCategory\", \"delCategoriesGoodItem\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.categories {\r\n  .el-breadcrumb {\r\n    font-size: 12px;\r\n    margin-bottom: 20px;\r\n  }\r\n  .el-table {\r\n    margin: 15px 0;\r\n    font-size: 12px;\r\n  }\r\n  .el-result__icon svg {\r\n    width: 15px;\r\n    height: 15px;\r\n  }\r\n  .el-result {\r\n    padding: 0;\r\n    text-align: left;\r\n    align-items: flex-start;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Categories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Categories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Categories.vue?vue&type=template&id=682dca5a&\"\nimport script from \"./Categories.vue?vue&type=script&lang=js&\"\nexport * from \"./Categories.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Categories.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Categories.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoriesDialog.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}