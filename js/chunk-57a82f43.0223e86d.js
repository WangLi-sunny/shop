(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57a82f43"],{"00b4":function(e,t,r){"use strict";r("ac1f");var s=r("23e7"),i=r("da84"),l=r("c65b"),n=r("e330"),a=r("1626"),o=r("861d"),u=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),c=i.Error,d=n(/./.test);s({target:"RegExp",proto:!0,forced:!u},{test:function(e){var t=this.exec;if(!a(t))return d(this,e);var r=l(t,this,e);if(null!==r&&!o(r))throw new c("RegExp exec method returned something other than an Object or null");return!!r}})},"107c":function(e,t,r){var s=r("d039"),i=r("da84"),l=i.RegExp;e.exports=s((function(){var e=l("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"14e0":function(e,t,r){"use strict";r("e9d1")},1511:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("用户管理")]),r("el-breadcrumb-item",[e._v("用户列表")])],1),r("div",{staticClass:"el-card"},[r("UserTable")],1)],1)},i=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-table"},[r("div",{staticClass:"user-top"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.clear},model:{value:e.query.query,callback:function(t){e.$set(e.query,"query",t)},expression:"query.query"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"})],1)],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加用户")])],1)],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,stripe:""}},[r("el-table-column",{attrs:{type:"index",label:"#"}}),r("el-table-column",{attrs:{prop:"username",label:"姓名"}}),r("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),r("el-table-column",{attrs:{prop:"mobile",label:"电话"}}),r("el-table-column",{attrs:{prop:"role_name",label:"角色"}}),r("el-table-column",{attrs:{prop:"mg_state",label:"角色"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#dcdfe6"},on:{change:function(r){return e.change(t.row)}},model:{value:t.row.mg_state,callback:function(r){e.$set(t.row,"mg_state",r)},expression:"scope.row.mg_state"}})]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(r){return e.edit(t.row)}}}),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(r){return e.delUser(t.row.id)}}}),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分配权限",placement:"top"}},[r("el-button",{attrs:{type:"warning",icon:"el-icon-s-tools",size:"mini"},on:{click:function(r){return e.allot(t.row)}}})],1)]}}])})],1),r("el-pagination",{attrs:{"page-sizes":[2,3,5,10],"page-size":e.query.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}}),r("UserDialog",{attrs:{ruleForm:e.ruleForm,dialogVisible:e.dialogVisible},on:{"update:dialogVisible":function(t){e.dialogVisible=t},"update:dialog-visible":function(t){e.dialogVisible=t}}}),e.userInfor?r("el-dialog",{attrs:{title:"分配角色",visible:e.setRoleDialogVisible,width:"50%"},on:{"update:visible":function(t){e.setRoleDialogVisible=t}}},[r("div",[r("p",[e._v("当前的用户："+e._s(e.userInfor.username))]),r("p",[e._v("当前的角色："+e._s(e.userInfor.role_name))]),r("p",[e._v(" 分配新角色： "),r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selectedRoleId,callback:function(t){e.selectedRoleId=t},expression:"selectedRoleId"}},e._l(e.rolesList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})})),1)],1)]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.setRoleDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveRoleInfo}},[e._v("确 定")])],1)]):e._e()],1)},n=[],a=r("5530"),o=r("2f62"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.ruleForm.id?"编辑用户":"添加用户",visible:e.dialogVisible,width:"50%"},on:{close:function(t){return e.$emit("update:dialogVisible",!1)}}},[r("el-form",{ref:"form",attrs:{model:e.ruleForm,"label-width":"100px",rules:e.addUserRules}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.ruleForm.id,expression:"!ruleForm.id"}],attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{"show-password":""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),r("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[r("el-input",{model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.$emit("update:dialogVisible",!1)}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.sure}},[e._v("确 定")])],1)],1)},c=[],d=(r("ac1f"),r("00b4"),{props:["dialogVisible","ruleForm"],data:function(){return{addUserRules:{username:[{required:!0,message:"请输入账户",trigger:"blur"}],password:[{required:!0,message:"请输入账户密码",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:this.checkEmail,trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:this.checkPhone,trigger:"blur"}]}}},methods:Object(a["a"])({checkEmail:function(e,t,r){var s=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/;if(s.test(t))return r();r("请输入正确邮箱")},checkPhone:function(e,t,r){var s=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;if(s.test(t))return r();r("请输入正确手机号")},sure:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.ruleForm.id?e.editUserItem(e.ruleForm).then((function(){e.$message.success("修改成功")}),(function(t){e.$message.error(t)})):e.addUserItem(e.ruleForm).then((function(){e.$message.success("添加成功")}),(function(t){e.$message.error(t)})),e.$emit("update:dialogVisible",!1))}))}},Object(o["b"])(["addUserItem","editUserItem"]))}),m=d,f=r("2877"),p=Object(f["a"])(m,u,c,!1,null,null,null),g=p.exports,b={components:{UserDialog:g},data:function(){return{query:{query:"",pagenum:1,pagesize:2},ruleForm:{username:"",password:"",email:"",mobile:""},dialogVisible:!1,setRoleDialogVisible:!1,userInfor:{},selectedRoleId:""}},created:function(){this.getUserList(this.query)},computed:Object(a["a"])({},Object(o["c"])({userListInfor:function(e){return e.user.userListInfor},userList:function(e){return e.user.userList},rolesList:function(e){return e.user.limits},total:function(e){return e.user.total}})),methods:Object(a["a"])({currentChange:function(e){this.query.pagenum=e,this.getUserList(this.query)},sizeChange:function(e){this.query.pagesize=e,this.getUserList(this.query)},change:function(e){var t={id:e.id,mg_state:e.mg_state};this.changeUserStatus(t)},add:function(){this.dialogVisible=!0,this.ruleForm={username:"",password:"",email:"",mobile:""}},edit:function(e){this.dialogVisible=!0,this.ruleForm=Object(a["a"])({},e)},delUser:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.delUserItem(e).then((function(e){t.$message({type:"success",message:"删除成功!"})}),(function(e){t.$message({type:"error",message:e})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},allot:function(e){this.userInfor=e,this.getLimits(),this.setRoleDialogVisible=!0},saveRoleInfo:function(){var e=this;this.setLimits({id:this.userInfor.id,role:this.selectedRoleId}).then((function(t){e.$message.success("更改成功"),e.setRoleDialogVisible=!1}),(function(t){e.$message.error(t)}))},search:function(){this.getUserList(this.query)},clear:function(){this.getUserList(this.query)}},Object(o["b"])(["getUserList","changeUserStatus","delUserItem","getLimits","setLimits"]))},h=b,v=(r("6ab8"),Object(f["a"])(h,l,n,!1,null,null,null)),x=v.exports,y={components:{UserTable:x}},I=y,w=(r("14e0"),Object(f["a"])(I,s,i,!1,null,null,null));t["default"]=w.exports},"6ab8":function(e,t,r){"use strict";r("7823")},7823:function(e,t,r){},9263:function(e,t,r){"use strict";var s=r("c65b"),i=r("e330"),l=r("577e"),n=r("ad6d"),a=r("9f7f"),o=r("5692"),u=r("7c73"),c=r("69f3").get,d=r("fce3"),m=r("107c"),f=o("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,g=p,b=i("".charAt),h=i("".indexOf),v=i("".replace),x=i("".slice),y=function(){var e=/a/,t=/b*/g;return s(p,e,"a"),s(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),I=a.BROKEN_CARET,w=void 0!==/()??/.exec("")[1],_=y||w||I||d||m;_&&(g=function(e){var t,r,i,a,o,d,m,_=this,k=c(_),R=l(e),$=k.raw;if($)return $.lastIndex=_.lastIndex,t=s(g,$,R),_.lastIndex=$.lastIndex,t;var F=k.groups,U=I&&_.sticky,E=s(n,_),q=_.source,V=0,L=R;if(U&&(E=v(E,"y",""),-1===h(E,"g")&&(E+="g"),L=x(R,_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==b(R,_.lastIndex-1))&&(q="(?: "+q+")",L=" "+L,V++),r=new RegExp("^(?:"+q+")",E)),w&&(r=new RegExp("^"+q+"$(?!\\s)",E)),y&&(i=_.lastIndex),a=s(p,U?r:_,L),U?a?(a.input=x(a.input,V),a[0]=x(a[0],V),a.index=_.lastIndex,_.lastIndex+=a[0].length):_.lastIndex=0:y&&a&&(_.lastIndex=_.global?a.index+a[0].length:i),w&&a&&a.length>1&&s(f,a[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(a[o]=void 0)})),a&&F)for(a.groups=d=u(null),o=0;o<F.length;o++)m=F[o],d[m[0]]=a[m[1]];return a}),e.exports=g},"9f7f":function(e,t,r){var s=r("d039"),i=r("da84"),l=i.RegExp,n=s((function(){var e=l("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=n||s((function(){return!l("a","y").sticky})),o=n||s((function(){var e=l("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:a,UNSUPPORTED_Y:n}},ac1f:function(e,t,r){"use strict";var s=r("23e7"),i=r("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,r){"use strict";var s=r("825a");e.exports=function(){var e=s(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},e9d1:function(e,t,r){},fce3:function(e,t,r){var s=r("d039"),i=r("da84"),l=i.RegExp;e.exports=s((function(){var e=l(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-57a82f43.0223e86d.js.map