(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ad9ebca"],{"36b3":function(e,t,o){},8629:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"goods"},[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),o("el-breadcrumb-item",[e._v("商品管理")]),o("el-breadcrumb-item",[e._v("商品列表")])],1),o("el-card",[o("div",{staticClass:"goods-top"},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:8}},[o("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.clear},model:{value:e.query.query,callback:function(t){e.$set(e.query,"query",t)},expression:"query.query"}},[o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"})],1)],1),o("el-col",{attrs:{span:4}},[o("el-button",{attrs:{type:"primary"}},[o("router-link",{attrs:{to:"/goods/add"}},[e._v("添加商品")])],1)],1)],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goods,stripe:"",border:""}},[o("el-table-column",{attrs:{type:"index",label:"#"}}),o("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"600"}}),o("el-table-column",{attrs:{prop:"goods_price",label:"商品价格(元)"}}),o("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量"}}),o("el-table-column",{attrs:{prop:"add_time",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("moment")(t.row.add_time,"YYYY-MM-DD HH:MM:SS"))+" ")]}}])}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(o){return e.edit(t.row)}}}),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(o){return e.del(t.row.goods_id)}}})]}}])})],1),e.total?o("el-pagination",{attrs:{background:"","page-sizes":[5,10,15,20],"page-size":e.query.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}}):e._e()],1),o("el-dialog",{attrs:{title:"编辑商品",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[o("el-input",{model:{value:e.ruleForm.goods_name,callback:function(t){e.$set(e.ruleForm,"goods_name",t)},expression:"ruleForm.goods_name"}})],1),o("el-form-item",{attrs:{label:"价格",prop:"goods_price"}},[o("el-input",{model:{value:e.ruleForm.goods_price,callback:function(t){e.$set(e.ruleForm,"goods_price",t)},expression:"ruleForm.goods_price"}})],1),o("el-form-item",{attrs:{label:"数量",prop:"goods_number"}},[o("el-input",{model:{value:e.ruleForm.goods_number,callback:function(t){e.$set(e.ruleForm,"goods_number",t)},expression:"ruleForm.goods_number"}})],1),o("el-form-item",{attrs:{label:"重量",prop:"goods_weight"}},[o("el-input",{model:{value:e.ruleForm.goods_weight,callback:function(t){e.$set(e.ruleForm,"goods_weight",t)},expression:"ruleForm.goods_weight"}})],1),o("el-form-item",{attrs:{label:"商品分类"}},[o("el-cascader",{attrs:{options:e.categoryAllList,props:e.props,clearable:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.sendEdit}},[e._v("确 定")])],1)],1)],1)},s=[],a=o("5530"),l=(o("a15b"),o("2f62")),i={data:function(){return{query:{query:"",pagenum:1,pagesize:5},dialogVisible:!1,rules:{goods_name:{required:!0,message:"请输入商品名称",trigger:"blur"},goods_price:{required:!0,message:"请输入商品价格",trigger:"blur"},goods_number:{required:!0,message:"请输入商品数量",trigger:"blur"},goods_weight:{required:!0,message:"请输入商品重量",trigger:"blur"}},ruleForm:{},goodsId:"",props:{label:"cat_name",value:"cat_id",expandTrigger:"hover",checkStrictly:!0},value:[]}},created:function(){this.getGoods(this.query),this.getGoodsCategory({type:3})},computed:Object(a["a"])({},Object(l["c"])({goods:function(e){return e.goods.goods},total:function(e){return e.goods.total},categoryAllList:function(e){return e.goodsCategory.categoryAllList}})),methods:Object(a["a"])({currentChange:function(e){this.query.pagenum=e,this.getGoods(this.query)},sizeChange:function(e){this.query.pagesize=e,this.getGoods(this.query)},search:function(){this.getGoods(this.query)},clear:function(){this.getGoods(this.query)},add:function(){},edit:function(e){this.dialogVisible=!0,this.goodsId=e.goods_id,this.ruleForm=Object(a["a"])({},e)},sendEdit:function(){var e=this;this.ruleForm.goods_cat=this.value.join(","),this.editGoodsItem({id:this.goodsId,data:this.ruleForm}).then((function(t){e.$message.success("修改成功")}),(function(t){e.$message.error(t)})),this.dialogVisible=!1},del:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.delGoodsItem(e).then((function(e){t.$message({type:"success",message:"删除成功!"})}),(function(e){t.$message({type:"error",message:e})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},Object(l["b"])(["getGoods","editGoodsItem","delGoodsItem","getGoodsCategory"]))},n=i,u=(o("aef3"),o("2877")),c=Object(u["a"])(n,r,s,!1,null,null,null);t["default"]=c.exports},a15b:function(e,t,o){"use strict";var r=o("23e7"),s=o("e330"),a=o("44ad"),l=o("fc6a"),i=o("a640"),n=s([].join),u=a!=Object,c=i("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(e){return n(l(this),void 0===e?",":e)}})},aef3:function(e,t,o){"use strict";o("36b3")}}]);
//# sourceMappingURL=chunk-4ad9ebca.2825a6b7.js.map